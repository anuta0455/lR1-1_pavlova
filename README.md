#include <iostream>
#include <vector>

using namespace std;

int main() {
    setlocale(LC_ALL, "Russian");
    int fieldNum = 1; // Переменная для хранения номера поля
    int n, m; // Переменные для хранения размеров поля

    while (true) { // Бесконечный цикл
        cout << "Введите размепр поля";
        cin >> n >> m; // Ввод размеров поля

        if (n == 0 && m == 0) { // Если размеры поля равны 0, выходим из цикла
            break;
        }

        if (fieldNum > 1) { // Если это не первое поле, выводим пустую строку
            cout << endl;
        }

        vector<vector<char>> field(n, vector<char>(m)); // Создаем двумерный вектор для хранения символов поля
        vector<vector<int>> hintField(n, vector<int>(m, 0)); // Создаем двумерный вектор для хранения подсказок

        for (int i = 0; i < n; ++i) { // Цикл по строкам поля
            for (int j = 0; j < m; ++j) { // Цикл по столбцам поля
                cin >> field[i][j]; // Ввод символа поля
                if (field[i][j] == '*') { // Если символ - мина, увеличиваем счетчики вокруг мин на 1
                    hintField[i][j] = -1; // Устанавливаем текущую клетку как мину
                    for (int dx = -1; dx <= 1; ++dx) { // Перебор соседних клеток по горизонтали
                        for (int dy = -1; dy <= 1; ++dy) { // Перебор соседних клеток по вертикали
                            if (dx == 0 && dy == 0) continue; // Пропускаем текущую клетку
                            int ni = i + dx; // Вычисляем координаты соседней клетки по горизонтали
                            int nj = j + dy; // Вычисляем координаты соседней клетки по вертикали
                            if (ni >= 0 && ni < n && nj >= 0 && nj < m && hintField[ni][nj] != -1) { // Проверяем, что соседняя клетка существует и не является миной
                                hintField[ni][nj]++; // Увеличиваем счетчик мин вокруг соседней клетки на 1
                            }
                        }
                    }
                }
            }
        }

        cout << "Field #" << fieldNum << ":" << endl; // Выводим номер текущего поля

        for (int i = 0; i < n; ++i) { // Цикл по строкам поля для вывода подсказок
            for (int j = 0; j < m; ++j) { // Цикл по столбцам поля для вывода подсказок
                if (hintField[i][j] == -1) { // Если текущая клетка - мина, выводим "*"
                    cout << "*";
                }
                else {
                    cout << hintField[i][j]; // Иначе выводим количество мин вокруг клетки
                }
            }
            cout << endl; // Переход на новую строку после вывода строки подсказок
        }

        fieldNum++; // Увеличиваем номер поля
    }

    return 0;
}
